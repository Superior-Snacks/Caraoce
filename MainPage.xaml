<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Caraoce.MainPage"
             BackgroundColor="Black"
             Title="Now Playing"
             NavigationPage.HasNavigationBar="False">

    <Grid>
    <CarouselView x:Name="LyricsCarousel"
                  IndicatorView="indicatorView"
                  VerticalOptions="FillAndExpand"
                  IsSwipeEnabled="False"
                  InputTransparent="True"> 
        <CarouselView.ItemTemplate>
            <DataTemplate>
                <Grid Padding="10">
                    <Label Text="{Binding Text}"
                           FontSize="80" 
                           FontAttributes="Bold"
                           TextColor="White"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           HorizontalTextAlignment="Center" 
                           LineBreakMode="WordWrap"/>
                </Grid>
            </DataTemplate>
        </CarouselView.ItemTemplate>
    </CarouselView>

    <Grid BackgroundColor="Transparent">
        <Grid.GestureRecognizers>
            <TapGestureRecognizer Tapped="OnScreenTapped" />
        </Grid.GestureRecognizers>
    </Grid>

        <Grid x:Name="UiOverlay"
          Opacity="0"
          InputTransparent="True">

            <Label x:Name="StatusLabel"
               Text="Song Title"
               TextColor="White"
               FontSize="24"
               FontAttributes="Bold"
               HorizontalOptions="Center"
               VerticalOptions="Start"
               Margin="0,40,0,0">
                <Label.Shadow>
                    <Shadow Brush="Black" Offset="2,2" Radius="5" Opacity="0.8"/>
                </Label.Shadow>
            </Label>

            <Button x:Name="PlayPauseButton"
                Text="⏸"
                FontSize="40"
                TextColor="White"
                BackgroundColor="Transparent"
                WidthRequest="90"
                HeightRequest="90"
                CornerRadius="45"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                Clicked="OnPlayPauseClicked">
                <Button.Shadow>
                    <Shadow Brush="Black" Offset="0,4" Radius="8" Opacity="0.5"/>
                </Button.Shadow>
            </Button>

            <VerticalStackLayout VerticalOptions="End" 
                             Spacing="15" 
                             Padding="20,0,20,30">

                <Grid ColumnDefinitions="Auto, *, Auto" Margin="0,10">
                    <Label x:Name="CurrentTimeLabel" Text="0:00" TextColor="#ccc" VerticalOptions="Center"/>
                    <Slider x:Name="PositionSlider"
                        Grid.Column="1"
                        Minimum="0"
                        Maximum="1"
                        ThumbColor="White"
                        MinimumTrackColor="White"
                        MaximumTrackColor="Gray"
                        Margin="15,0"
                        DragCompleted="OnSliderDragCompleted"
                        DragStarted="OnSliderDragStarted"/>
                    <Label x:Name="TotalTimeLabel" Text="0:00" TextColor="#ccc" VerticalOptions="Center" Grid.Column="2"/>
                </Grid>
            </VerticalStackLayout>
    </Grid>
</Grid>
</ContentPage>